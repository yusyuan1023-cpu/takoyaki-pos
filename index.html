<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>章魚燒 POS 系統</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; -webkit-tap-highlight-color: transparent; }
    </style>
</head>
<body>
    <div id="root">正在載入系統...</div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // 直接在全域中定義 Lucide 圖示，避免報錯
        const { 
          Plus, Minus, Trash2, ShoppingCart, X, UtensilsCrossed,
          Banknote, Smartphone, Clock, ClipboardList, History,
          Truck, Store, ChevronRight, Undo2, DollarSign,
          AlertTriangle, TrendingUp, LogOut
        } = lucide;

        // 簡化後的 App 元件，確保能第一時間渲染
        function App() {
            const [activeTab, setActiveTab] = useState('order');
            const [cart, setCart] = useState([]);

            const MENU_ITEMS = [
                { id: 1, name: '原味章魚燒', price: 60 },
                { id: 2, name: '海苔章魚燒', price: 60 },
                { id: 3, name: '起司章魚燒', price: 70 }
            ];

            return (
                <div className="flex flex-col h-screen bg-[#F7F5F0]">
                    <nav className="bg-white h-16 border-b flex justify-around items-center px-4 shadow-sm">
                        <button onClick={() => setActiveTab('order')} className={`flex flex-col items-center ${activeTab === 'order' ? 'text-orange-600' : 'text-gray-400'}`}>
                            <UtensilsCrossed size={20} /><span className="text-xs">點餐</span>
                        </button>
                        <button onClick={() => setActiveTab('history')} className={`flex flex-col items-center ${activeTab === 'history' ? 'text-orange-600' : 'text-gray-400'}`}>
                            <History size={20} /><span className="text-xs">數據</span>
                        </button>
                    </nav>

                    <main className="p-4 flex-1">
                        {activeTab === 'order' ? (
                            <div className="grid grid-cols-2 gap-3">
                                {MENU_ITEMS.map(item => (
                                    <button 
                                        key={item.id} 
                                        className="bg-white p-4 rounded-2xl shadow-sm border text-left active:bg-gray-50"
                                        onClick={() => alert('已加入: ' + item.name)}
                                    >
                                        <div className="font-bold text-sm mb-2">{item.name}</div>
                                        <div className="text-orange-600 font-mono">${item.price}</div>
                                    </button>
                                ))}
                            </div>
                        ) : (
                            <div className="text-center text-gray-400 mt-10">尚無歷史數據</div>
                        )}
                    </main>

                    <div className="p-4 bg-white border-t text-center text-[10px] text-gray-400">
                        版本：1.0.1 (穩定版)
                    </div>
                </div>
            );
        }

        // 渲染到網頁
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
